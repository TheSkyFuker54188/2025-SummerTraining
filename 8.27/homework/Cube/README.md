# 三阶魔方求解器

## 项目简介

本项目是中国人民大学信息学院综合设计2025年暑期小学期作业，实现了三阶魔方的还原算法。项目使用C++语言编写，采用迭代加深搜索（IDDFS）算法，并提供了可视化界面展示求解过程。

## 问题描述

魔方是一个经典的组合机械问题：

- 标准的三阶魔方有6个面，每个面有9个小方块（3×3）
- 每个面有不同的颜色（通常为白、黄、红、橙、绿、蓝）
- 可以旋转魔方的各个面
- 目标是从给定的初始状态，通过旋转操作，使魔方的每个面都是同一种颜色

## 项目功能

1. 支持从文件或手动输入魔方的初始状态
2. 实现了迭代加深搜索(IDDFS)算法来求解魔方
3. 可视化展示搜索过程和解决方案
4. 支持多种颜色表示
5. 支持Windows和Linux平台

## 项目结构

```
Cube/
├── src/              # 源代码目录
│   ├── Cube.h        # 头文件，定义状态类和搜索算法
│   ├── CubeState.cpp # 状态类实现
│   ├── CubeSolver.cpp # 求解算法实现
│   ├── main.cpp      # 主程序，包含用户界面和可视化
│   ├── build.bat     # Windows编译脚本
│   └── build.sh      # Linux编译脚本
└── README.md         # 项目说明文档
```

## 算法说明

### 状态表示

魔方状态用一个3D数组表示，第一维表示面，后两维表示每个面上的小方块。每个元素代表对应位置的颜色。

### 操作定义

魔方有12种基本操作：6个面的顺时针旋转和6个面的逆时针旋转。

### 迭代加深搜索(IDDFS)

由于魔方的状态空间极其庞大，常规的BFS或DFS难以在有限时间内找到解决方案。因此我们采用IDDFS算法：

- 结合了DFS的空间效率和BFS的完备性
- 从深度1开始，逐步增加搜索深度
- 在每个深度限制下执行DFS
- 能在合理时间内找到较短的解决方案

## 编译与运行

### Windows

```
cd src
build.bat
```

### Linux

```
cd src
chmod +x build.sh
./build.sh
```

## 使用说明

1. 运行程序后，选择魔方状态输入方式
   - 从文件读取
   - 手动输入
   - 使用预设的测试案例
2. 程序会显示魔方的初始状态
3. 输入最大搜索深度（建议5-10）
4. 程序会显示搜索过程和最终解决方案

## 输入格式

魔方状态的输入格式如下：

```
back:
g g r
r y r
y b y

down: 
r r b
w r w
r r b

front:
w p w
g w g
b b p

left:
w w r
p g g 
w y g

right:
p y y
b b b
b w y

up:
g y g
p p p
p y p
```

其中，每个字母代表一种颜色：
- w: 白色
- y: 黄色
- r: 红色
- o: 橙色
- g: 绿色
- b: 蓝色
- p: 紫色
- k: 黑色

## 示例输出

程序会输出操作序列，例如：

```
操作序列：U R' D F2 L B' U'
```

## 注意事项

- 对于复杂的魔方状态，可能需要较长时间才能找到解决方案
- 增加最大搜索深度会显著增加搜索时间
- 程序使用了ANSI颜色代码进行可视化，在某些终端可能无法正常显示 