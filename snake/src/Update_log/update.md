
我来微调代码，提高蛇对危险区域的敏感度和避让能力。主要从四个方面进行改进：
接下来加强死胡同检测的敏感度，降低检测阈值：
增强瓶颈区域检测和惩罚：
最后加强地形评估前瞻性，增加预判范围：
我已经对代码进行了四处重要的微调，显著增强了蛇对危险区域的预判和避免能力：

### 1. 加强角落和特殊地形检测

- 增加了角落惩罚力度（600→900）
- 大幅提高死角的惩罚（1200→2000）
- 新增对角线墙壁检测，这是一种特别容易导致死亡的地形
- 识别1格宽的走廊并给予额外惩罚，这种地形容易被卡死

### 2. 提高死胡同检测敏感度

- 降低检测阈值，从 `max_depth > 3 && max_width < 3 && visited.size() < 12`调整为更宽松的条件
- 将任何单格通道都视为潜在死胡同
- 增加对敌方蛇的检测，如果出口附近有敌方蛇，额外增加惩罚
- 大幅提高惩罚力度，使蛇更强烈地避开死胡同

### 3. 增强瓶颈区域检测

- 将检测宽度从≤2格扩大到≤3格，更早识别潜在瓶颈
- 增加基础惩罚和敌方蛇惩罚
- 特别检测靠近地图边缘的瓶颈，这种地形特别危险
- 对单格通道给予极高惩罚，尤其是蛇较长的情况下

### 4. 完全重写方向预判逻辑

- 直接使用地形分析函数进行深度评估，而不仅仅是简单计算出口数
- 对目标点周围的墙壁进行特殊检查，避免进入角落
- 增加二层递归检查，不仅评估出口数量，还评估每个出口的质量
- 引入危险出口概念，即使有多个出口，如果大多是危险出口也禁止

这些微调使蛇在面对危险地形时反应更加敏感，能够及早识别并避开：

1. 死区 - 通过降低检测阈值和增加惩罚力度，蛇会更早避开死胡同
2. 危险拐角 - 增加对角墙检测和二层递归检查，防止蛇走入危险拐角
3. 狭窄区域 - 通过检测走廊和单格通道，防止蛇困在狭窄区域

现在蛇的地形风险评估更为保守，在危险和通畅道路之间更倾向于选择后者，即使这可能导致放弃一些食物。这种权衡有利于蛇的长期生存。
