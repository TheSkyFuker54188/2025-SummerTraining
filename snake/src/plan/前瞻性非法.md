### illegalMove函数 (467-571行)

```cpp
unordered_set<Direction> illegalMove(const GameState &state)
```

- 判断基本安全性（非法移动）
- 使用紧急模式放宽安全标准
- **可改进**: 当前只考虑直接障碍，没有评估 **前瞻性风险**
